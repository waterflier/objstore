1.提出原子性与正确性要求
2.实现，核心是元数据与真实数据的分离，基于文件系统对于某些大小的文件能支持原子的读写
3.分析新方案能否达到原子性和正确性
4.测试程序
在update的过程中随机中断
随后运行读测试程序进行检测,如果操作是原子的，那么不管何时中断testwrite,testcheck的结果总是对的

对这种实现逻辑的通用化思考
猜想：单段数据原子读写（一次操作）
硬件支持大小为 (n*sizeof(address)+c)的数据块能原子的读写,那么就能通过软件实现对大小为 2^sizeof(address)大小数据块的原子读写

注意
使用fopen("","wb")的方式打开文件，会导致文件内容被清空，这会不会带来一定的操作非原子的特性？

作业：
数据清理问题？
如何清理，如何高效的清理，在清理的过程中允许系统工作么